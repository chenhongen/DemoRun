<!DOCTYPE html>
<html lang="en">
<head>
<title>CHE Studio</title>
<link rel="stylesheet" href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="css/demo.css" type="text/css" />
</head>
<body>
<div id="maincontainer">
    <div id="hamburgermenu">
        <nav id="tree" class="doc_menu well">
			<span class="doc_menu_title">CHE Studio</span>
			<ul>
				<li class="sub_menu opened">
					<a href="javascript:;">Github</a>
					<ul>
						<li>
							<a href="https://github.com/chenhongen">My Index</a>
						</li>
						<li>
							<a href="http://chenhongen.github.io/MergeCells/">MergeCell Demo</a>
						</li>
						<li>
							<a href="javascript:;">building...</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="https://segmentfault.com/u/che/articles">SegmentFault</a>
				</li>
				
			</ul>
		</nav>
	</div>
	<div class="overlay"></div>

    <ul id="myTab" class="nav nav-tabs">
		<li class="menu">
			<p><span class="glyphicon glyphicon-th-list menubtn" ></span></p>
	    </li>
		<li class="active"><a href="#htmlTab" data-toggle="tab">HTML</a></li>
		<li><a href="#jsTab" data-toggle="tab">JavaScript</a></li>
		<li><a href="#cssTab" data-toggle="tab">CSS</a></li>
		<li><button class="btn btn-default btn-primary" type="submit" onclick="run()">Run</button></li>
		<li><button class="btn btn-default btn-info" type="submit" data-toggle="modal" data-target="#saveModal">About</button></li>
	</ul>
	<div id="myTabContent" class="tab-content">
		<div id="htmlTab" class="tab-pane active">
			<pre id='htmlEditor'></pre>
		</div>
		<div id="jsTab" class="tab-pane">
			<pre id="jsEditor" > </pre>
		</div>
		<div id="cssTab" class="tab-pane">
			<pre id='cssEditor'> </pre>
		</div>
		<div id="resTab" class="">
			<iframe name="iframe" class="iframe" id="iframe" sandbox="allow-forms allow-popups allow-scripts allow-same-origin allow-modals" name="iframe" frameborder="0"></iframe>
		</div>
    </div>

	<!-- 模态框（Modal） -->
	<div class="modal fade" id="saveModal" tabindex="-1" role="dialog" 
	   aria-labelledby="save your code" aria-hidden="true">
	   <div class="modal-dialog">
		  <div class="modal-content">
			 <div class="modal-header">
				<button type="button" class="close" 
				   data-dismiss="modal" aria-hidden="true">
					  &times;
				</button>
				<h4 class="modal-title" id="">
				   Save code
				</h4>
			 </div>
			 <div class="modal-body">
				<!--<form role="form">
				   <div class="form-group">
					  <label for="fileName">Name</label>
					  <input type="text" class="form-control" id="fileName" 
						 placeholder="请输入名称">
				   </div>
				   <div class="form-group">
					  <label for="fileType">Sort</label>
					  <select class="form-control" id="fileType">
						<option>html</option>
						<option>css</option>
						<option>js</option>
						<option>other</option>
					  </select>
				   </div>
				</form>-->
				QQ:251601797
			 </div>
			 <div class="modal-footer">
				<button type="button" class="btn btn-default" 
				   data-dismiss="modal">close
				</button>
				<!--<button type="button" class="btn btn-primary" onclick="save()">
				   ok
				</button>-->
			 </div>
		  </div><!-- /.modal-content -->
	</div><!-- /.modal -->

</div>	
<script src="http://libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="js/tab.js" type="text/javascript" charset="utf-8"></script>
<script src="js/modal.js" type="text/javascript" charset="utf-8"></script>
<script src="js/menu.js" type="text/javascript" charset="utf-8"></script>
<script src="js/data.js" type="text/javascript" charset="utf-8"></script>
<script src="build/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="http://pingjs.qq.com/h5/stats.js" name="MTAH5" sid="500052254"></script>
<script>
    var htmlEditor = ace.edit("htmlEditor");
	htmlEditor.setTheme("ace/theme/monokai");
	htmlEditor.getSession().setMode("ace/mode/html");
	var cssEditor = ace.edit("cssEditor");
	cssEditor.setTheme("ace/theme/monokai");
	cssEditor.getSession().setMode("ace/mode/css");
	var jsEditor = ace.edit("jsEditor");
	jsEditor.setTheme("ace/theme/monokai");
	jsEditor.getSession().setMode("ace/mode/javascript");
	
	$(function() {
		htmlEditor.setValue(datas[0].html);
		cssEditor.setValue(datas[0].css);
		jsEditor.setValue(datas[0].js);
	});

	$('#myTab a').click(function (e) {
		e.preventDefault()
		$(this).tab('show')
	});

	function run() {
		var html = htmlEditor.getValue();
		var css = '<style>'+cssEditor.getValue()+'</style>';
		var js = jsEditor.getValue();
		var iframe = document.getElementsByTagName('iframe')[0].contentWindow;
		iframe.document.getElementsByTagName('body')[0].innerHTML=(html+css);
		window.frames['iframe'].eval(js);
	}

	function save() {
	}

	//documentation menu
	$('.sub_menu > a').mousedown(function () {
		$(this).parent().toggleClass('opened');
		$(window).trigger('resize');
		return false;
	})

	// 输出对象键值对
	function po(obj){
		var temp = "";
		for(var i in obj){//用javascript的for/in循环遍历对象的属性
			temp += i+":"+obj[i]+"\n";
		}
		alert(temp);
	}
</script>
</body>
</html>